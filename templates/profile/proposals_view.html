{% extends "base.html" %}
{% block main_content %}
<div class="row">
    <div class="col-md-4 offset-md-4">
        <h2 class="text-center">My proposals</h2>
    </div>
</div>
<div class="row my-3">
    <div class="col-sm-8 offset-md-2">
        <div class="card">
            <div class="card-body">
                {% from 'macros/generate_vuln_table.html' import display_vuln_table %}
                {% from 'macros/pagination.html' import display_nvd_pagination %}
                <h5 class="card-title">
                    <p class="text-info d-inline"><b>Pending proposals</b></p>
                </h5>
                {% set vuln_columns = ['date', 'id', 'summary', 'products', 'state'] %}
                <div>
                    {{ display_vuln_table(proposal_vulns.rows, 'proposal', vuln_columns, 'vuln.vuln_review') }}
                    {{ display_nvd_pagination(proposal_vulns, 'proposal', '') }}
                </div>

                <h5 class="card-title">
                    <p class="text-info d-inline"><b>Archived proposals</b></p>
                </h5>
                {% set vuln_columns = ['date', 'id', 'summary', 'products', 'state'] %}
                <div>
                    {{ display_vuln_table(proposal_vulns_archived.rows, 'proposal_archived', vuln_columns, 'vuln.vuln_review') }}
                    {{ display_nvd_pagination(proposal_vulns_archived, 'proposal_archived', '') }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
