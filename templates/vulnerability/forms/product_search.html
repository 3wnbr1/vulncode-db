<v-autocomplete
        v-model="select"
        :loading="loading"
        :items="items"
        @input="search=null"
        :search-input.sync="search"
        :filter="customFilter"
        class="mx-4"
        flat
        hide-details
        dense
        filled
        item-text="product"
        label="Which products are affected?"
        chips
        multiple
        clearable
>
    <template v-slot:selection="data">
        <v-chip
                v-bind="data.attrs"
                :input-value="data.selected"
                close
                @click="data.select"
                @click:close="remove(data.item)"
        >
            <input type="hidden" name="vendor[]" v-bind:value="data.item.vendor" />
            <input type="hidden" name="product[]" v-bind:value="data.item.product" />
            <b>[[ data.item.product ]]</b>&nbsp; (by [[ data.item.vendor ]])
        </v-chip>
    </template>
    <template v-slot:item="data">
        <template v-if="typeof data.item !== 'object'">
            <v-list-item-content v-text="data.item"></v-list-item-content>
        </template>
        <template v-else>
            <v-list-item-content>
                <v-list-item-title v-html="data.item.product"></v-list-item-title>
                <v-list-item-subtitle v-html="'by ' + data.item.vendor"></v-list-item-subtitle>
            </v-list-item-content>
        </template>
    </template>
</v-autocomplete>